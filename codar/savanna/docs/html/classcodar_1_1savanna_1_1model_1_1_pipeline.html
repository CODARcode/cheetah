<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Savanna: codar.savanna.model.Pipeline Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Savanna
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>codar</b></li><li class="navelem"><a class="el" href="namespacecodar_1_1savanna.html">savanna</a></li><li class="navelem"><a class="el" href="namespacecodar_1_1savanna_1_1model.html">model</a></li><li class="navelem"><a class="el" href="classcodar_1_1savanna_1_1model_1_1_pipeline.html">Pipeline</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classcodar_1_1savanna_1_1model_1_1_pipeline-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">codar.savanna.model.Pipeline Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for codar.savanna.model.Pipeline:</div>
<div class="dyncontent">
<div class="center"><img src="classcodar_1_1savanna_1_1model_1_1_pipeline__inherit__graph.png" border="0" usemap="#codar_8savanna_8model_8_pipeline_inherit__map" alt="Inheritance graph"/></div>
<map name="codar_8savanna_8model_8_pipeline_inherit__map" id="codar_8savanna_8model_8_pipeline_inherit__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for codar.savanna.model.Pipeline:</div>
<div class="dyncontent">
<div class="center"><img src="classcodar_1_1savanna_1_1model_1_1_pipeline__coll__graph.png" border="0" usemap="#codar_8savanna_8model_8_pipeline_coll__map" alt="Collaboration graph"/></div>
<map name="codar_8savanna_8model_8_pipeline_coll__map" id="codar_8savanna_8model_8_pipeline_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ada8df2357966f7e3cc7c34d3ee36f9a1"><td class="memItemLeft" align="right" valign="top"><a id="ada8df2357966f7e3cc7c34d3ee36f9a1"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__init__</b> (self, pipe_id, runs, working_dir, total_nodes, machine_name, kill_on_partial_failure=False, post_process_script=None, post_process_args=None, post_process_stop_on_failure=False, node_layout=None, launch_mode=None)</td></tr>
<tr class="separator:ada8df2357966f7e3cc7c34d3ee36f9a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf71facf9275710199941f0f79997db2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcodar_1_1savanna_1_1model_1_1_pipeline.html#abf71facf9275710199941f0f79997db2">from_data</a> (cls, data)</td></tr>
<tr class="separator:abf71facf9275710199941f0f79997db2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ddded563710c1a240b850c56a3fd3c"><td class="memItemLeft" align="right" valign="top"><a id="ad7ddded563710c1a240b850c56a3fd3c"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>start</b> (self, consumer, nodes_assigned, runner=None)</td></tr>
<tr class="separator:ad7ddded563710c1a240b850c56a3fd3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a7fe2d4e57a5604ae9d997caeee2f87"><td class="memItemLeft" align="right" valign="top"><a id="a0a7fe2d4e57a5604ae9d997caeee2f87"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>run_finished</b> (self, run)</td></tr>
<tr class="separator:a0a7fe2d4e57a5604ae9d997caeee2f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a21933f3cc3457a161029b4f708997b"><td class="memItemLeft" align="right" valign="top"><a id="a9a21933f3cc3457a161029b4f708997b"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>run_post_process_script</b> (self)</td></tr>
<tr class="separator:a9a21933f3cc3457a161029b4f708997b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05bcb6afe339fb967d8d358d5c6037ca"><td class="memItemLeft" align="right" valign="top"><a id="a05bcb6afe339fb967d8d358d5c6037ca"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>add_done_callback</b> (self, fn)</td></tr>
<tr class="separator:a05bcb6afe339fb967d8d358d5c6037ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1656c8b4ec886ef96521dfb137c123b"><td class="memItemLeft" align="right" valign="top"><a id="aa1656c8b4ec886ef96521dfb137c123b"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>remove_done_callback</b> (self, fn)</td></tr>
<tr class="separator:aa1656c8b4ec886ef96521dfb137c123b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac13dbe4331eff67d4306a11a06199e3e"><td class="memItemLeft" align="right" valign="top"><a id="ac13dbe4331eff67d4306a11a06199e3e"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>add_fatal_callback</b> (self, fn)</td></tr>
<tr class="separator:ac13dbe4331eff67d4306a11a06199e3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ddff7f98a8fd2aa7066343540c8bab0"><td class="memItemLeft" align="right" valign="top"><a id="a6ddff7f98a8fd2aa7066343540c8bab0"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>remove_fatal_callback</b> (self, fn)</td></tr>
<tr class="separator:a6ddff7f98a8fd2aa7066343540c8bab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c85356d538d06651c7ed18ceb7c1ce5"><td class="memItemLeft" align="right" valign="top"><a id="a0c85356d538d06651c7ed18ceb7c1ce5"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_nodes_used</b> (self)</td></tr>
<tr class="separator:a0c85356d538d06651c7ed18ceb7c1ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559b6f3f07dc06fd1c42a33fff9e96f1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcodar_1_1savanna_1_1model_1_1_pipeline.html#a559b6f3f07dc06fd1c42a33fff9e96f1">set_ppn</a> (self, ppn)</td></tr>
<tr class="separator:a559b6f3f07dc06fd1c42a33fff9e96f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372fa98a663eccfd0c629e9e92f411f8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcodar_1_1savanna_1_1model_1_1_pipeline.html#a372fa98a663eccfd0c629e9e92f411f8">set_total_nodes</a> (self)</td></tr>
<tr class="separator:a372fa98a663eccfd0c629e9e92f411f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415914cbdd84133196a9f4c612be5313"><td class="memItemLeft" align="right" valign="top"><a id="a415914cbdd84133196a9f4c612be5313"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_state</b> (self)</td></tr>
<tr class="separator:a415914cbdd84133196a9f4c612be5313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45f720376f4a44a4d87777c572c7dd3c"><td class="memItemLeft" align="right" valign="top"><a id="a45f720376f4a44a4d87777c572c7dd3c"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_pids</b> (self)</td></tr>
<tr class="separator:a45f720376f4a44a4d87777c572c7dd3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc64a044c6e1929d19cbea5718fd0f7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcodar_1_1savanna_1_1model_1_1_pipeline.html#accc64a044c6e1929d19cbea5718fd0f7">force_kill_all</a> (self)</td></tr>
<tr class="separator:accc64a044c6e1929d19cbea5718fd0f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a663e76af6faf61c9791dfc925786a859"><td class="memItemLeft" align="right" valign="top"><a id="a663e76af6faf61c9791dfc925786a859"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>join_all</b> (self)</td></tr>
<tr class="separator:a663e76af6faf61c9791dfc925786a859"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac9d67caac17820b586b007df1411e3f8"><td class="memItemLeft" align="right" valign="top"><a id="ac9d67caac17820b586b007df1411e3f8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>id</b></td></tr>
<tr class="separator:ac9d67caac17820b586b007df1411e3f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceeec7aae018e27934619f797162d458"><td class="memItemLeft" align="right" valign="top"><a id="aceeec7aae018e27934619f797162d458"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>runs</b></td></tr>
<tr class="separator:aceeec7aae018e27934619f797162d458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2272c691cd2ecb1b11b581341cd5707c"><td class="memItemLeft" align="right" valign="top"><a id="a2272c691cd2ecb1b11b581341cd5707c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>working_dir</b></td></tr>
<tr class="separator:a2272c691cd2ecb1b11b581341cd5707c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f831647499af6eae5696a85abc9a449"><td class="memItemLeft" align="right" valign="top"><a id="a8f831647499af6eae5696a85abc9a449"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>kill_on_partial_failure</b></td></tr>
<tr class="separator:a8f831647499af6eae5696a85abc9a449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5539114ad7bace8f9753064e3d4a28ec"><td class="memItemLeft" align="right" valign="top"><a id="a5539114ad7bace8f9753064e3d4a28ec"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>post_process_script</b></td></tr>
<tr class="separator:a5539114ad7bace8f9753064e3d4a28ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4568a89046b0fc45c5e6f3f5d80588a1"><td class="memItemLeft" align="right" valign="top"><a id="a4568a89046b0fc45c5e6f3f5d80588a1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>post_process_args</b></td></tr>
<tr class="separator:a4568a89046b0fc45c5e6f3f5d80588a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed4a93e26e62b1878c277a6d9a992fa9"><td class="memItemLeft" align="right" valign="top"><a id="aed4a93e26e62b1878c277a6d9a992fa9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>post_process_stop_on_failure</b></td></tr>
<tr class="separator:aed4a93e26e62b1878c277a6d9a992fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32c1000ef2bf29a77c0f7ca8849adb64"><td class="memItemLeft" align="right" valign="top"><a id="a32c1000ef2bf29a77c0f7ca8849adb64"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>node_layout</b></td></tr>
<tr class="separator:a32c1000ef2bf29a77c0f7ca8849adb64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7492ac83160febb20e9a60dad2a9233f"><td class="memItemLeft" align="right" valign="top"><a id="a7492ac83160febb20e9a60dad2a9233f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>machine_name</b></td></tr>
<tr class="separator:a7492ac83160febb20e9a60dad2a9233f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10bd363eae4d4b4e00c86fe26c2adedf"><td class="memItemLeft" align="right" valign="top"><a id="a10bd363eae4d4b4e00c86fe26c2adedf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>done_callbacks</b></td></tr>
<tr class="separator:a10bd363eae4d4b4e00c86fe26c2adedf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86657c62c6922840292d1f11e455016b"><td class="memItemLeft" align="right" valign="top"><a id="a86657c62c6922840292d1f11e455016b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>fatal_callbacks</b></td></tr>
<tr class="separator:a86657c62c6922840292d1f11e455016b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f9ace8a7b25f52efa9e63821b8ea87"><td class="memItemLeft" align="right" valign="top"><a id="a87f9ace8a7b25f52efa9e63821b8ea87"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>total_procs</b></td></tr>
<tr class="separator:a87f9ace8a7b25f52efa9e63821b8ea87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a461a521150825c07864b23ff66c7cd69"><td class="memItemLeft" align="right" valign="top"><a id="a461a521150825c07864b23ff66c7cd69"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>log_prefix</b></td></tr>
<tr class="separator:a461a521150825c07864b23ff66c7cd69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5ea9a86523bdbbc9537a37b6d01436c"><td class="memItemLeft" align="right" valign="top"><a id="ae5ea9a86523bdbbc9537a37b6d01436c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>total_nodes</b></td></tr>
<tr class="separator:ae5ea9a86523bdbbc9537a37b6d01436c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93c4ea2d9b1714d9f78aba21c1507e95"><td class="memItemLeft" align="right" valign="top"><a id="a93c4ea2d9b1714d9f78aba21c1507e95"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>launch_mode</b></td></tr>
<tr class="separator:a93c4ea2d9b1714d9f78aba21c1507e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae821850c02f50972fa0edb2284ff9c59"><td class="memItemLeft" align="right" valign="top"><a id="ae821850c02f50972fa0edb2284ff9c59"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>nodes_assigned</b></td></tr>
<tr class="separator:ae821850c02f50972fa0edb2284ff9c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="accc64a044c6e1929d19cbea5718fd0f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accc64a044c6e1929d19cbea5718fd0f7">&#9670;&nbsp;</a></span>force_kill_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def codar.savanna.model.Pipeline.force_kill_all </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Kill all runs and don't run post processing. Note that this call may
block waiting for all runs to be started, to avoid confusing races.
If the pipeline is already done, this does nothing. If one or more
runs are still active, or have not yet been marked as finished, then
it will mark the entire pipeline as killed so it can be re-run from
scratch on a restart if desired.
</pre> 
</div>
</div>
<a id="abf71facf9275710199941f0f79997db2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf71facf9275710199941f0f79997db2">&#9670;&nbsp;</a></span>from_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def codar.savanna.model.Pipeline.from_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create Pipeline instance from dictionary data structure, containing
at least "id" and "runs" keys. The "runs" key must have a list of dict,
and each dict is parsed using Run.from_data.
Raises KeyError if a required key is missing.</pre> 
</div>
</div>
<a id="a559b6f3f07dc06fd1c42a33fff9e96f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a559b6f3f07dc06fd1c42a33fff9e96f1">&#9670;&nbsp;</a></span>set_ppn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def codar.savanna.model.Pipeline.set_ppn </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ppn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Determine number of nodes needed to run pipeline with the specified
node layout or full occupancy layout with ppn. Also updates runs
to set node and task per node counts.
TODO: This should be set by Cheetah in fobs.json</pre> 
</div>
</div>
<a id="a372fa98a663eccfd0c629e9e92f411f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a372fa98a663eccfd0c629e9e92f411f8">&#9670;&nbsp;</a></span>set_total_nodes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def codar.savanna.model.Pipeline.set_total_nodes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">To be deprecated
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>model.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
